<html>
<head>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', {packages:['corechart', 'line']});
    google.charts.setOnLoadCallback(drawChart);
	
	
	
	
	
      //グラフの描画
      function makeGraph(){

        //JSONデーターの取得
        $.ajax({
          type: 'GET',
          url: './print2.php',
          dataType: 'json',
          success: function(json){

            //タイトル作成
            var dataArray = [[
              'Date',
              'Temp.',
              'Temp.(outside)',
             // 'Humidity',
             // 'Discomfort',
             // 'Press.',
            ]];

            //jsonデーターの中身取得
              //データーに追加
              dataArray.push([
                new Date(json[i].timestamp.replace(/\-/g, "/")),
                parseFloat(json[i].temp),
                parseFloat(json[i].temp_m),
                //parseFloat(json[i].humid),
                //parseFloat(json[i].discomfort),
                //parseFloat(json[i].press)/10
              ]);
            }
	
	
	
	
	
	

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Time');
        data.addColumn('number', 'Temperature[℃]');
        data.addColumn('number', 'Temperature[℃]');
        data.addRows([
            <?php echo $grapgh_t; ?>
        ]);
	var options = {
           title: 'Temprature',
           legend: 'none',
           colors: ['red','black'],
           vAxis: {title: "deg.C"}
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart1'));
        chart.draw(data,options);
    }

    google.charts.load('current', {packages:['corechart', 'line']});
    google.charts.setOnLoadCallback(drawChart2);

    function drawChart2() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Time');
        data.addColumn('number', 'Pressure[hPa]');
        data.addColumn('number', 'Pressure[hPa]');
        data.addRows([
            <?php echo $grapgh_p; ?>
        ]);
        var options = {
           title: 'Pressure',
           legend: 'none',
           colors: ['blue','black'],
           vAxis: {title: "hPa"}
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart2'));
        chart.draw(data,options);
    }

    google.charts.load('current', {packages:['corechart', 'line']});
    google.charts.setOnLoadCallback(drawChart3);

    function drawChart3() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Time');
        data.addColumn('number', 'Humid[%]');
        data.addColumn('number', 'Humid[%]');
        data.addRows([
            <?php echo $grapgh_h; ?>
        ]);
        var options = {
           title: 'Humidity',
           legend: 'none',
           colors: ['green','black'],
           vAxis: {title: "%RH"}
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart3'));
        chart.draw(data,options);
    }
</script>
</head>
<body>

<div id="chart1"></div>
<div id="chart2"></div>
<div id="chart3"></div>

</body>
</html>
